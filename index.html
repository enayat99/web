<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <title>Document</title>
</head>

<body>
  <p>Enter you'r info</p>
  <form id="my-form">

    <input type="text" name="username" value="" placeholder="You'r name">
    <span id="spN">Name required!</span>
    <input type="text" name="full-name" placeholder="You'r email">
    <span id="spE">Please enter a vailed email!</span>
    <input type="password" name="password" placeholder="You'r password">
    <span id="spP">Password cannot be empty!</span>
    <input type="password" name="repassword" placeholder="Confirm you'r password">
    <span id="spR">Password dos'nt match!</span>
    <input
      style="text-align: center;width: 100;margin-left: 55px; margin-top: 50;font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;"
      type="button" onclick="submitted()" id="button1" value="Sign In">
  </form>

  <script>
    var but = document.getElementById("button1");
    var spName = document.getElementById("spN");
    var spEmail = document.getElementById("spE");
    var spPassword = document.getElementById("spP");
    var spRpassword = document.getElementById("spR");
    var spans = [spName, spEmail, spPassword, spRpassword];//Push all span in an 
    var inputs = document.getElementById("my-form").elements;
    //Get the form elements values.
    /*       var name = inputs[0].value.trim();
          var email = inputs[1].value.trim();
          var password = inputs[2].value.trim(); */
    //Output array elements.
    /*    array.forEach(function(e){
         console.log(e);
       }) */

    /*but.addEventListener("click", function (e) {
      alert("clicked");
      for (let i = 0; i < 4; i++) {
        if (inputs[i].value == "") {
          error(inputs[i], spName);
        }
        else {
          success(inputs[i], spName);
          // alert("Your name is " + name);
        }
      }
    });*/

    //This function check if any inputs form is mepty, if it dose then excute the fowlling code whitin fuction submitted
    function submitted() {

      for (let i = 0; i < 5; i++) {
        if (inputs[i].value == "" && i!=1) {

          error(inputs[i], spans[i]);
          break;
        }
        if(i==1){
          isEmailValid(inputs[1], spans[1]);
        }
        else {
          success(inputs[i], spans[i]);
          /* array[i].style.display = "none"; */
        }
      }

    }
    /* function creatS(spans) {
      var myForm = document.getElementById("my-form");
      var spans = document.createElement("p");
      spans.setAttribute("id", "newSpan");
      spans.innerHTML = "Hello i'm a new span";
      myForm.appendChild(spans);

      //Then call this function like this=> <input type="button" onclick="createSpan('my-form')">;
    } */
    function error(input, message) {
      input.className = "error";
      message.className = "spans";
      return false;
    }
    function success(input, span) {
      input.className = "success";
      span.style.display = "none";
    }
    function isEmailValid(email, input) {
      const re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
      if (email.value.match(re)) {
        success(email, input);
      }
      else {
        error(email, input);
        return false;
      }
    }
  </script>
</body>

</html>